<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>RSVP — Aldo Sanchez & Isabella Payan</title>
    <link rel="stylesheet" href="style.css" />
</head>

<body>
    <header class="site-header small">
        <div class="container">
            <h1 class="couple-names">Aldo Sanchez & Isabella Payan — RSVP</h1>
        </div>
    </header>

    <!-- Navigation -->
    <nav class="top-nav container">
        <a href="index.html">Home</a>
        <a href="gallery.html">Gallery</a>
        <a href="registry.html">Registry</a>
        <a href="rsvp.html" class="cta">RSVP</a>
    </nav>

    <main class="container">
        <section class="card rsvp-card">
            <div id="rsvp-root">
                <p id="loading">Looking up your invitation...</p>

                <!-- Initial code lookup -->
                <div id="lookup">
                    <h3>Have an invitation code?</h3>
                    <form id="lookup-form" method="get" action="">
                        <label for="inviteCode">Enter the personalized code from your invitation.</label>
                        <input id="inviteCode" name="code" type="text" required placeholder="e.g. ABC123" />
                        <div class="form-row">
                            <button type="submit" class="btn">Enter</button>
                        </div>
                    </form>
                </div>

                <!-- Not found / error message -->
                <div id="not-found" class="hidden">
                    <h3>Invitation not found</h3>
                    <p>Sorry, we could not find your invitation code. Please double-check or contact us at
                        <a href="mailto:aldo.y.isabella@gmail.com">aldo.y.isabella@gmail.com</a>.
                    </p>
                </div>

                <!-- RSVP form -->
                <form id="rsvp-form" class="hidden">
                    <!-- Hidden fields to capture lookup results -->
                    <input type="hidden" name="UniqueCode" id="field-code" />
                    <input type="hidden" name="GuestGroupName" id="field-group" />

                    <h3 id="welcome">Welcome, Guest!</h3>

                    <label for="contactName">Contact name (who is replying)</label>
                    <input id="contactName" name="ContactName" type="text" required placeholder="Your name" />

                    <fieldset>
                        <legend>Will you attend?</legend>
                        <label><input type="checkbox" id="attendCeremony" name="AttendCeremony" value="Yes" />
                            Ceremony</label>
                        <label><input type="checkbox" id="attendReception" name="AttendReception" value="Yes" />
                            Reception / Dinner</label>
                    </fieldset>

                    <label for="guestCount">Total guests attending (including you)</label>
                    <input id="guestCount" name="GuestCount" type="number" min="0" value="1" required />

                    <fieldset>
                        <legend>Dietary needs</legend>
                        <label><input type="radio" name="Vegetarian" value="No" checked /> No</label>
                        <label><input type="radio" name="Vegetarian" value="Yes" /> Yes</label>
                    </fieldset>

                    <label for="notes">Notes (optional)</label>
                    <textarea id="notes" name="Notes" rows="3"
                        placeholder="Song requests, accessibility needs, etc."></textarea>

                    <p id="form-msg" class="form-msg"></p>

                    <div class="form-row">
                        <button type="submit" class="btn">Submit RSVP</button>
                        <button type="button" id="cancelBtn" class="btn alt">Cancel</button>
                    </div>
                </form>
            </div>
        </section>

        <section class="card">
            <h4>Need help?</h4>
            <p>If you didn't receive a code, please contact us at <a
                    href="mailto:aldo.y.isabella@gmail.com">aldo.y.isabella@gmail.com</a>.</p>
        </section>
    </main>

    <footer class="site-footer">
        <div class="container">
            <p>&copy; Aldo & Isabella</p>
        </div>
    </footer>

    <script src="script.js"></script>
    <script>
        // Initialize RSVP behaviour
        document.addEventListener('DOMContentLoaded', () => {
            RSVP.init({
                formSelector: '#rsvp-form',
                loadingSelector: '#loading',
                notFoundSelector: '#not-found',
                codeFieldSelector: '#field-code',
                groupFieldSelector: '#field-group',
                welcomeSelector: '#welcome',
                guestCountSelector: '#guestCount'
            });
        });
    </script>
</body>

</html>